# V1
## 需求列表
### 账户功能。
1. 注册：提供用户名、密码，其他的提供默认值。
2. 登陆：提供用户名（或邮箱）和密码验证登陆。
3. 修改信息：修改当前账户的相关信息。
4. 找回密码：通过验证（旧密码或邮箱）后提供密码修改。
5. 展示信息：头像、名称、性别、年龄、籍贯。

### 家庭功能。
1. 创建：由没有加入家庭的人就行创建，提供家庭名、初始成员，其他提供默认值。
2. 加入：由家庭成员进行邀请（发送邀请、二维码扫码），管理员通过后加入。
3. 退出：家庭成员单方面退出。
4. 解散：家庭管理员发起，成员通过后解散。
5. 修改：成员发起修改，管理员审核。
6. 展示信息：名称、图标、公告。

### 日程功能。
1. 制定：由计划自动设置或用户提供参数自行设定。
2. 达成：用户自行判断是否达成。
3. 未达成：反馈到计划（若由计划自动设置），进入计划的失败处理程序。
4. 修改：若可修改则提供修改
5. 提醒：在日程开始进行提示，结束前15分钟若未达成则再次提示
6. 终止：自行终止（拥有所属计划无法终止）。

#### 实例
1. 定制日程“12:00-12:10打卡”，将会在12：00准时提醒用户进行打卡，12:10前用户打卡之后可以选择达成，12:10之后则未达成（提供修改为达成）。
2. 定制日程“12:00-13:00 转入支付宝500元”，将会在12:00准时提醒用户，12:45再次提醒用户，可指定达成数值，13:00前用户转入满500后自动达成，13:00之后则未达成（提供修改为达成）。
3. 定制日程“洗头”，将会选择默认时间段08:00-23:00，将会在8:00提醒用户，22:45再次提醒，23:00前用户洗头之后可以选择达成，23:00之后则未达成（提供修改为达成）。

### 计划功能。
1. 制定：供计划内容、重复（按年月日）、时间点（指定年、月、日、时间段）。
2. 达成：重复计划进行指定次数后达成（循环任务自行达成），定时计划所有都结束后自动完成。
3. 日程未达成：定时计划则判断为计划未达成，重复计划则不计入达成次数（不可中断判断为计划未达成）。
4. 修改：若可修改则提供修改。
5. 终止：自行终止（拥有所属目标的计划无法终止）。

#### 实例
1. 定制计划“每天12:00-12:10打卡，重复20次，不可中断”，将会每天添加日程“12:00-12:10打卡”，有一天未达成计划失败，重复20次。
2. 定制计划“每天13:00-14:00看书，重复7次”，将会每天添加日程“13:00-14:00看书”，重复7次。
3. 定制计划“每月15、30日8:00-8:30交水电费”，将会每月15、30日添加日程“8:00-8:30交水电费”。
4. 定制计划“每月存500元”，将会每天添加日程“存500元”，达成一次（每日完成数值可累加）后本月不再添加。


### 目标功能。
1. 制定：设定目标内容、时限、计划（选择或创建多个）、对象（自身或家庭（需家庭管理员审核））。
2. 修改：由参与者发起，管理员审核。
3. 终止：目标达成或全票通过终止申请。
4. 退出：个人单方面退出。
5. 加入：由管理员审核。
6. 达成：在时限结束前计划执行完毕。
7. 计划未达成：目标失败。

## 需求分析

### 账户（User）
| 字段        | 类型     | 描述   |
|-----------|--------|------|
| id        | Long   | 用户编号 |
| name      | String | 用户名称 |
| password  | String | 密码    |
| sex       | Short  | 性别    |
| birthday  | LocalDate | 出生日期 |
| area      | String    | 地区 |
| family_id | Long | 归属家庭编号 |
| email | String | 邮箱 |

### 家庭（Family）
| 字段          | 类型     | 描述   |
|-------------|--------|------|
| id          | Long   | 家庭编号 |
| name        | String | 家庭名称 |

### 日程（Schedule）
| 字段          | 类型                | 描述     |
|-------------|-------------------|--------|
| id          | Long              | 日程编号   |
| name        | String            | 日程名称   |
| user_id     | Long              | 所属用户编号 |
| plan_id     | Long              | 所属计划编号 |
| start_time  | LocalTime         | 起始时间   |
| duration    | Long              | 持续秒数   |
| description | String            | 描述     |
| contents    | ScheduleContent[] | 日程内容   |

### 日程内容（ScheduleContent）
| 字段          | 类型      | 描述  |
|-------------|---------|-----|
| description | String  | 描述  |
| completed   | boolean | 已完成 |

### 计划（Plan）
| 字段            | 类型            | 描述     |
|---------------|---------------|--------|
| id            | Long          | 编号     |
| name          | String        | 名称     |
| description   | String        | 描述     |
| goal_id       | Long          | 所属目标编号 |
| start_time    | LocalTime     | 起始时间   |
| duration      | Long          | 持续时长   |
| contents      | PlanContent[] | 计划内容   |
| interruptable | Boolean       | 可中断的   |


